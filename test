-- Services
local UserInputService = game:GetService("UserInputService")
local VirtualUser = game:GetService("VirtualUser")

-- Constants
local PRESS_KEY = Enum.KeyCode.E

-- Toggles whether the key is being pressed
local isPressingF = false

-- Function to simulate pressing the "F" key
local function pressFKey()
  if not isPressingF then
    VirtualUser:CaptureController()
    VirtualUser:SetKeyDown(PRESS_KEY.Value)
    isPressingF = true
  end
end

-- Function to simulate releasing the "F" key
local function releaseFKey()
  if isPressingF then
    VirtualUser:SetKeyUp(PRESS_KEY.Value)
    isPressingF = false
  end
end

-- Detect key press for the "F" key to start pressing
UserInputService.InputBegan:Connect(function(input, gameProcessed)
  if not gameProcessed and input.KeyCode == PRESS_KEY then
    pressFKey()
  end
end)

-- Detect key release for the "F" key to stop pressing
UserInputService.InputEnded:Connect(function(input, gameProcessed)
  if not gameProcessed and input.KeyCode == PRESS_KEY then
    releaseFKey()
  end
end)

-- Detect touch input for simulating the key press on mobile
UserInputService.TouchTap:Connect(function()
  pressFKey()
end)
